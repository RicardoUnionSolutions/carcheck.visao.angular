<nav class="navbar">
  <a href="/" class="custom-logo-link">
    <img
      src="./assets/images/logos/Carcheck_Logos-07.png"
      class="icon-logo"
      alt="logo Carcheck Brasil"
    />
    <img
      src="./assets/images/logos/Carcheck_Logos-05.png"
      class="custom-logo"
      alt="Carcheck Brasil"
    />
  </a>

  <!-- Interface para usuário logado -->
  @if (logIn.status) {
    <div class="nav-links">
      <a href="/">Minhas Consultas</a>
      <a href="/processo-compra-multipla">Comprar</a>
      <a href="/realizar-consultas">Consultar</a>
      <a href="/servicos">Serviços</a>
    </div>

    <div class="nav-actions">
      <div class="user-menu">
        <span class="user-name">{{ logIn.nome || "Usuário" }}</span>
        <div class="user-dropdown">
          <a href="/status-pagamento">Status de Pagamento</a>
          <a href="/conta">Minha Conta</a>
          <a href="/logout">Sair</a>
        </div>
      </div>
      <button class="menu-toggle" (click)="toggleMenu()">
        <i class="mdi mdi-menu"></i>
      </button>
    </div>
  }

  <!-- Interface para usuário não logado -->
  @if (!logIn.status) {
    <div class="nav-links">
      <a href="/home">Início</a>
      <a href="/consulta-placa-veiculo">Consulta</a>
      <a href="/servicos">Serviços</a>
      <a href="/blog">Blog</a>
      <a href="/contato">Contato</a>
    </div>

    <div class="nav-actions">
      @if (currentUrl !== '/login') {
        <app-button
          variant="outline"
          size="md"
          (clicked)="navigateToLogin()"
        >
          Entrar
        </app-button>
        <app-button
          variant="primary"
          size="md"
          (clicked)="navigateToCadastro()"
        >
          Cadastrar-se
        </app-button>
      }
      <button class="menu-toggle" (click)="toggleMenu()">
        <i class="mdi mdi-menu"></i>
      </button>
    </div>
  }

  <!-- Sidebar Overlay -->
  <div
    class="sidebar-overlay"
    [ngClass]="{ open: isOpen }"
    (click)="toggleMenu()"
  ></div>

  <!-- Unified Sidebar -->
  <div class="sidebar" [ngClass]="{ open: isOpen }">
    <div class="sidebar-header">
      <h3>Menu</h3>
      <button (click)="toggleMenu()" class="close-btn">
        <i class="mdi mdi-close"></i>
      </button>
    </div>
    <div class="sidebar-content">
      <!-- Conteúdo para usuário logado -->
      @if (logIn.status) {
        <div class="sidebar-section">
          <h4>Menu do Usuário</h4>
          <ul class="sidebar-links">
            <li>
              <a href="/" (click)="toggleMenu()">
                <i class="mdi mdi-magnify"></i>
                Minhas Consultas
              </a>
            </li>
            <li>
              <a href="/processo-compra-multipla" (click)="toggleMenu()">
                <i class="mdi mdi-cart"></i>
                Comprar
              </a>
            </li>
            <li>
              <a href="/realizar-consultas" (click)="toggleMenu()">
                <i class="mdi mdi-magnify"></i>
                Consultar
              </a>
            </li>
            <li>
              <a href="/servicos" (click)="toggleMenu()">
                <i class="mdi mdi-briefcase-outline"></i>
                Serviços
              </a>
            </li>
          </ul>
        </div>
        <div class="sidebar-section">
          <h4>Conta</h4>
          <ul class="sidebar-links">
            <li>
              <a href="/status-pagamento" (click)="toggleMenu()">
                <i class="mdi mdi-credit-card"></i>
                Status de Pagamento
              </a>
            </li>
            <li>
              <a href="/conta" (click)="toggleMenu()">
                <i class="mdi mdi-account"></i>
                Minha Conta
              </a>
            </li>
            <li>
              <a href="/logout" (click)="toggleMenu()">
                <i class="mdi mdi-logout"></i>
                Sair
              </a>
            </li>
          </ul>
        </div>
      }

      <!-- Conteúdo para usuário não logado -->
      @if (!logIn.status) {
        <div class="sidebar-section">
          <h4>Navegação</h4>
          <ul class="sidebar-links">
            <li>
              <a href="/home" (click)="toggleMenu()">
                <i class="mdi mdi-home"></i>
                Início
              </a>
            </li>
            <li>
              <a href="/consulta-placa-veiculo" (click)="toggleMenu()">
                <i class="mdi mdi-magnify"></i>
                Consulta
              </a>
            </li>
            <li>
              <a href="/servicos" (click)="toggleMenu()">
                <i class="mdi mdi-briefcase-outline"></i>
                Serviços
              </a>
            </li>
            <li>
              <a href="/blog" (click)="toggleMenu()">
                <i class="mdi mdi-newspaper"></i>
                Blog
              </a>
            </li>
            <li>
              <a href="/contato" (click)="toggleMenu()">
                <i class="mdi mdi-email"></i>
                Contato
              </a>
            </li>
          </ul>
        </div>
        <div class="sidebar-section">
          <h4>Conta</h4>
          <ul class="sidebar-links">
            @if (currentUrl !== '/login') {
              <li>
                <a (click)="navigateToLogin(); toggleMenu()">
                  <i class="mdi mdi-login"></i>
                  Entrar
                </a>
              </li>
              <li>
                <a (click)="navigateToCadastro()">
                  <i class="mdi mdi-account-plus"></i>
                  Cadastrar-se
                </a>
              </li>
            }
          </ul>
        </div>
      }
    </div>
  </div>
</nav>
